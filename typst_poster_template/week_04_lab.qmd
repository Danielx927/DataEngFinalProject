---
title: Week 04 Lab -- `typst` Tutorial
format:
  poster-typst: 
    keep-typ: true
    size: "36x24"
    poster-authors: "G. Hua and M. Gastner"
    departments: "&nbsp;"
    institution-logo: "./images/sit.png"
    footer-text: "AAI1001 --- Data Engineering and Visualization AY24/25 Tri 2 Team Project"
    footer-url: "&nbsp;"
    footer-emails: "Team XX"
    footer-color: "ebcfb2"
---

# What is `typst`?

![[Source link.](https://nrennie.rbind.io/blog/pdf-quarto/making-pdf-with-quarto-typst-latex/)](./images/quarto_latex_typst_pdf.png){#fig-1 width="63%" fig-align="center"}

-   `typst` is a new open-source markup-based typesetting system.
-   It is designed to be as powerful as `LaTeX` while being much easier to learn and use.
-   It can create beautiful PDF output with blazing fast render times.
-   A `typst` source file is a plain text file with a `.typ` extension.
-   `typst` has been incorporated in `Quarto`, so we can generate `typst` output from a `.qmd` file.
-   Raw `typst` syntax is not required for the team project, but it is worth of further exploration.

# Get Ready with `typst`

-   `typst` is incorporated in `Quarto` version 1.4 and later. Your can check the version of `Quarto` installed in your system by running `quarto --version` in the Command Prompt or Terminal. Make sure that you download and install the latest version that suits your OS from [here](https://quarto.org/docs/download/).
-   With the latest version of `Quarto`, you can proceed to visit the `typst` poster template [here](https://github.com/quarto-ext/typst-templates/tree/main/poster).
-   Run the following code in Command Prompt or Terminal to install the template:\
    `quarto use template quarto-ext/typst-templates/poster`
-   Follow the command line instructions complete the installation:
    -   Trust the authors
    -   Create a directory named, e.g., `typst_poster`
-   In the created directory, you can the source files that generate a PDF poster (@fig-2).

![[Example poster.](https://github.com/quarto-ext/typst-templates/blob/main/poster/images/poster.png)](./images/poster.png){#fig-2}

# Understand `Quarto` and `typst` Files

In the `typst_poster` directory, you will find the following files:

  1.  `./_extensions/quarto-ext/poster/_extension.yml` -- Basic extension metadata.
  2.  `./_extensions/quarto-ext/poster/typst-show.typ` -- The core `typst` template.
  3.  `./_extensions/quarto-ext/poster/typst-template.typ` -- File calling template function.
  4.  `./images/` -- Directory containing the images used in the poster.
  5.  `./typst_poster.qmd` -- `Quarto` source file that generates the poster in PDF.
  
The first 3 files are the `typst` extension files that define the poster layout. Open `typst_poster.qmd` in `RStudio` and click **Render** to generate the PDF poster shown in @fig-2. To understand the processing flow shown in @fig-1, you can set `keep-typ: true` below `poster-typst:` in the YAML header, and then click **Render** again. This will generate a `typst_poster.typ` file in the same directory. The `typst_poster.typ` file is the `typst` source file that contains all formatting information as well as the content of the poster. You do not need to fully understand the syntax in the `typst` file, but it is interesting to see how the `.typ` file arranges format and content.


# Suggested Configuration

## YAML Header Configuration

The default YAML header in `typst_poster.qmd` is suggested to be modified as follows:

```
---
title: Your Team Project Title
format:
  poster-typst: 
    keep-typ: true
    size: "36x24"
    poster-authors: "G. Hua and M. Gastner"
    departments: "&nbsp;"
    institution-logo: "./images/sit.png"
    footer-text: "AAI1001 AY24/25 Tri 2 Team Project"
    footer-url: "&nbsp;"
    footer-emails: "Team XX"
    footer-color: "ebcfb2"
---
```

Please take note the following in the above setting:

-   `size`: The default landscape layout "36x24" is good to be displayed on a monitor.
-   `title`: Replace `Your Team Project Title` with your actual project title. 
-   `poster-authors`: Follow the abbreviation pattern to save space.
-   `&nbsp;`: HTML space to remove the unnecessary `departments` and `footer-url`.
-   `institution-logo`: You can download the logo `sit.png` from [xSITe](https://xsite.singaporetech.edu.sg/content/enforced/132775-SIT-2330-AAI1001/sit.png).
-   `footer-emails`: Replace `Team 01` with your actual team number.
-   `footer-color:` You can use your preferred hexadecimal color code, e.g., the "SIT red".

To remove the empty "`()`" in the placeholder for `departments` next to author names, go to Lines 171--172 in `typst-template.typ` and change it to the following:\
`text(authors_font_size, emph(authors) + departments),`

## Format Configuration

The default poster template `typst-template.typ` provides a good starting point to work on. However, you may want to customize the poster to better format your team project. This can be achieved by modifying the `typst-template.typ` file. Here are a few suggestions:

-   **Adjust footer font size** --- In `typst-template.typ` Line 64, you can adjust the footer font size to, say 24pt, by setting\
`footer_text_font_size: "24"`

-   **Adjust main text font size** --- In `typst-template.typ` Line 70, you can adjust the main text font size to, say, 20pt, by setting\
    `set text(font: "STIX Two Text", size: 20pt)`\
    After completing your poster content, you can adjust the main text font size to optimize the overall layout, e.g., ensuring the last sentence lies at the very right bottom of the poster.

-   **Adjust poster margins** --- In `typst-template.typ` Line 89, you can change the margin values \ 
    `(top: 1in, left: 2in, right: 2in, bottom: 2in),`

-   You are encouraged to further explore/modify `typst-template.typ` to improve formatting.


# Code Execution Output

## Static Plots
Unfortunately, current `typst` does not support code execution output in posters. To include code execution output in your poster, the suggested walk-around is:

1.  Render a separate HTML file and save the output as a PNG image.
2.  Include image, e.g., `output.png`, in the poster using the `Quarto` command\
    `![title](output.png){#fig-label width="100%" fig-align="center"}`

See @fig-3 as an example rendered by the following command:\
`![Iris Petal Dimension.](./images/output.png){#fig-3 width="64%" fig-align="center"}`
    
![Iris petal dimension.](./images/output.png){#fig-3 width="64%" fig-align="center"}

## Interactive Plots
If your code execution output is an interactive plot using, e.g., `plotly` or `shiny`, having e.g., hover effects, zoom effects, drop-down menus, sliders, etc., it is suggested that you

1.  save a static version of the plot as PNG and include it in the poster.
2.  prepare an HTML live demo of the interactive plot to be presented during the poster session.


# Further Reading {.unnumbered}

1.  `Quarto` `typst` basics ([link](https://quarto.org/docs/output-formats/typst.html)).
2.  `Quarto` `typst` custom format ([link](https://quarto.org/docs/output-formats/typst-custom.html)).
3.  `typst` online editor and compiler: <https://typst.app/>, which compiles `.typ` to PDF.
